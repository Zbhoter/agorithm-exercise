# 题目地址
https://leetcode-cn.com/problems/valid-sudoku/

# 题目描述：有效的数独

判断一个 9x9 的数独是否有效。只需要根据以下规则，验证**已填入**的数字是否有效即可。

- 数字 1-9 在每一行只能出现一次。
- 数字 1-9 在每一列只能出现一次。
- 数字 1-9 在每一个以粗实线分隔的 3x3 宫内只能出现一次。

例如：

![在这里插入图片描述](https://img-blog.csdnimg.cn/20190914170205823.png)


示例：

>例 1:
>
>输入:
>
>[["5","3",".",".","7",".",".",".","."], ["6",".",".","1","9","5",".",".","."],[".","9","8",".",".",".",".","6","."],
["8",".",".",".","6",".",".",".","3"], ["4",".",".","8",".","3",".",".","1"],["7",".",".",".","2",".",".",".","6"], [".","6",".",".",".",".","2","8","."], [".",".",".","4","1","9",".",".","5"],[".",".",".",".","8",".",".","7","9"]]
>
>输出: true
>
>例 2:
>
>输入:
>
>[["8","3",".",".","7",".",".",".","."],["6",".",".","1","9","5",".",".","."],  [".","9","8",".",".",".",".","6","."],  ["8",".",".",".","6",".",".",".","3"],  ["4",".",".","8",".","3",".",".","1"],  ["7",".",".",".","2",".",".",".","6"],  [".","6",".",".",".",".","2","8","."],  [".",".",".","4","1","9",".",".","5"],  [".",".",".",".","8",".",".","7","9"]
]
>
>输出: false
>
>解释: 位于左上角的 3x3 宫内有两个 8 存在, 因此这个数独是无效的。



# 解答
这道题难度并不高，认真读题很重要：检测已经填入数独内的数组是否有效。

我们将 9 个“宫”按照以下标记划分：

![在这里插入图片描述](https://img-blog.csdnimg.cn/20190914170904972.png)

设置三个哈希表，line, column, block, 分别代表 行、列、宫中已经存在的元素，若三者中任何一个元素出现的次数超过两次，则不满足条件，返回 false.

遍历数组，对于每一个非空元素 t = nums[i][j] - '0' （即 nums[i][j] != '.'）, 分别将其放到 line[i][t], column[j][t], block[ i / 3 + j / 3 * 3][t] 中，之后用上述方法检查即可。

代码：
```cpp
class Solution {
public:
    //注意，这道题并不是求数独是否存在解
    //而是验证已经填入的数独是否有效
    //即对于填入的数字，是否发生了冲突
    //若无冲突则返回 true
    bool isValidSudoku(vector<vector<char>>& board) {
        vector<int> compare(10, 0);
        
        //构造 哈希表
        vector< vector<int>> column, line, block;     //列，行
        for( int i = 0; i < 9; i++)
            line.push_back( compare), block.push_back( compare), column.push_back( compare);
 
        //遍历，检查是否有效
        for( int i = 0; i < 9; i++)     //9*9矩阵
            for( int j = 0; j < 9; j++)
                if( board[i][j] != '.'){
                    int t = board[i][j] - '0';
                    block[i / 3 + j / 3 * 3][ t]++, column[j][t]++, line[i][t]++;
                        if( line[i][ t] > 1 || column[j][ t] > 1 || block[ i / 3 + j / 3 * 3][ t] > 1)
                            return false;
                }
            
        return true;
    }
};
```
